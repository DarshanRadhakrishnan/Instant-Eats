datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model Order {
  id                    String   @id
  customerId            String
  restaurantId          String
  deliveryPartnerId     String?
  status                String   // 'pending', 'confirmed', 'preparing', 'ready', 'picked_up', 'in_transit', 'delivered', 'cancelled'
  totalAmount           Float
  deliveryAddress       String
  city                  String
  latitude              Float
  longitude             Float
  estimatedDeliveryTime Int      // in minutes
  createdAt             DateTime @default(now())
  updatedAt             DateTime @updatedAt
}

model DeliveryPartner {
  id               String   @id
  userId           String
  city             String
  latitude         Float    @default(0)
  longitude        Float    @default(0)
  isAvailable      Boolean  @default(true)
  currentOrderId   String?
  totalDeliveries  Int      @default(0)
  rating           Float    @default(0)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
}
